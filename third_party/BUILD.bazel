load("@rules_cc//cc:defs.bzl", "cc_library")

cc_library(
    name = "sfml",
    srcs = glob(["lib/*"]),
    hdrs = glob([
        "include/**/*.hpp",
        "include/**/*.inl",
    ]),
    # This is not a hermetic http_archive, because SFML depends on additional frameworks.
    # These had to be manually unquarantined and copied to "/Library/Frameworks/"
    # % cd /Users/tojot/Downloads/SFML-2.5.1-macos-clang/extlibs
    # % xattr *
    # % xattr -rd com.apple.quarantine  *
    # % xattr *
    copts = [
        "-framework libogg",
        "-framework flac",
        "-framework libpng",
        "-framework freetype",
        "-framework vorbisenc",
    ],
    # Include libraries like this: #include "SFML/Graphics.hpp"
    strip_include_prefix = "include/",
    visibility = ["//visibility:public"],
)